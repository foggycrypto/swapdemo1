"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[995],{38097:function(t,n,e){e.d(n,{Ck:function(){return o},ND:function(){return l},eQ:function(){return i},fq:function(){return a},v9:function(){return u},yg:function(){return c}});var r=e(52425),o=.97,a=3*r.hJ,u=5,l=2,c=200,i=10},80995:function(t,n,e){e.d(n,{ub:function(){return H},x4:function(){return r},oO:function(){return Q},t$:function(){return Z},Fr:function(){return P},jG:function(){return J},fq:function(){return x},HJ:function(){return R},Tq:function(){return $},n:function(){return j},s9:function(){return U},D:function(){return F},yz:function(){return q},$8:function(){return _},yn:function(){return L},CM:function(){return Y},a8:function(){return G},D5:function(){return z},zN:function(){return V},WB:function(){return M},ld:function(){return E},r3:function(){return I}});var r,o=e(34051),a=e.n(o),u=e(28687),l=e(4034),c=e(2593),i=e(27697),s=e(28527),d=e(31102),B=e(45883),f=e(21046),p=e(38097);function m(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}function v(t,n,e,r,o,a,u){try{var l=t[a](u),c=l.value}catch(i){return void e(i)}l.done?n(c):Promise.resolve(c).then(r,o)}function h(t){return function(){var n=this,e=arguments;return new Promise((function(r,o){var a=t.apply(n,e);function u(t){v(a,r,o,u,l,"next",t)}function l(t){v(a,r,o,u,l,"throw",t)}u(void 0)}))}}function N(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function b(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{},r=Object.keys(e);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(e).filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})))),r.forEach((function(n){N(t,n,e[n])}))}return t}function k(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){var e=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var r,o,a=[],u=!0,l=!1;try{for(e=e.call(t);!(u=(r=e.next()).done)&&(a.push(r.value),!n||a.length!==n);u=!0);}catch(c){l=!0,o=c}finally{try{u||null==e.return||e.return()}finally{if(l)throw o}}return a}}(t,n)||function(t,n){if(!t)return;if("string"===typeof t)return m(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(e);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return m(t,n)}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(t,n){return n||(n=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(n)}}))}function w(){var t=A(["\n      query getTotalWonData {\n        market(id: 1) {\n          totalBNB\n          totalBNBTreasury\n        }\n      }\n    "]);return w=function(){return t},t}function y(){var t=A(["\n      query getBetHistory($first: Int!, $skip: Int!, $where: Bet_filter) {\n        bets(first: $first, skip: $skip, where: $where, order: createdAt, orderDirection: desc) {\n          ","\n          round {\n            ","\n          }\n          user {\n            ","\n          }\n        }\n      }\n    "]);return y=function(){return t},t}function g(){var t=A(["\n      query getBet($id: ID!) {\n        bet(id: $id) {\n          ","\n          round {\n            ","\n          }\n          user {\n            ","\n          }\n        }\n      }\n  "]);return g=function(){return t},t}function O(){var t=A(["\n      query getUsers($first: Int!, $skip: Int!, $where: User_filter, $orderBy: User_orderBy, $orderDir: OrderDirection) {\n        users(first: $first, skip: $skip, where: $where, orderBy: $orderBy, orderDirection: $orderDir) {\n          ","\n        }\n      }\n    "]);return O=function(){return t},t}function S(){var t=A(["\n      query getUser($id: ID!) {\n        user(id: $id) {\n          ","\n        }\n      }\n  "]);return S=function(){return t},t}!function(t){t.WIN="win",t.LOSE="lose",t.CANCELED="canceled",t.HOUSE="house",t.LIVE="live"}(r||(r={}));var C=function(t){if(null===t)return null;var n=Number(t);return Number.isNaN(n)?null:n},E=function(t){var n={id:t.id,hash:t.hash,block:C(t.block),amount:t.amount?parseFloat(t.amount):0,position:"Bull"===t.position?i.Tu.BULL:i.Tu.BEAR,claimed:t.claimed,claimedAt:C(t.claimedAt),claimedBlock:C(t.claimedBlock),claimedHash:t.claimedHash,claimedBNB:t.claimedBNB?parseFloat(t.claimedBNB):0,claimedNetBNB:t.claimedNetBNB?parseFloat(t.claimedNetBNB):0,createdAt:C(t.createdAt),updatedAt:C(t.updatedAt)};return t.user&&(n.user=I(t.user)),t.round&&(n.round=T(t.round)),n},I=function(t){var n=t.id,e=t.createdAt,r=t.updatedAt,o=t.block,a=t.totalBets,u=t.totalBetsBull,l=t.totalBetsBear,c=t.totalBNB,i=t.totalBNBBull,s=t.totalBNBBear,d=t.totalBetsClaimed,B=t.totalBNBClaimed,f=t.winRate,p=t.averageBNB,m=t.netBNB;return{id:n,createdAt:C(e),updatedAt:C(r),block:C(o),totalBets:C(a),totalBetsBull:C(u),totalBetsBear:C(l),totalBNB:c?parseFloat(c):0,totalBNBBull:i?parseFloat(i):0,totalBNBBear:s?parseFloat(s):0,totalBetsClaimed:C(d),totalBNBClaimed:B?parseFloat(B):0,winRate:f?parseFloat(f):0,averageBNB:p?parseFloat(p):0,netBNB:m?parseFloat(m):0}},T=function(t){var n,e=t.id,r=t.epoch,o=t.failed,a=t.position,u=t.startAt,l=t.startBlock,c=t.startHash,s=t.lockAt,d=t.lockBlock,B=t.lockHash,f=t.lockPrice,p=t.lockRoundId,m=t.closeAt,v=t.closeBlock,h=t.closeHash,N=t.closePrice,b=t.closeRoundId,k=t.totalBets,A=t.totalAmount,w=t.bullBets,y=t.bullAmount,g=t.bearBets,O=t.bearAmount,S=t.bets,I=void 0===S?[]:S;return{id:e,failed:o,startHash:c,lockHash:B,lockRoundId:p,closeRoundId:b,closeHash:h,position:(n=a,"Bull"===n?i.Tu.BULL:"Bear"===n?i.Tu.BEAR:"House"===n?i.Tu.HOUSE:null),epoch:C(r),startAt:C(u),startBlock:C(l),lockAt:C(s),lockBlock:C(d),lockPrice:f?parseFloat(f):0,closeAt:C(m),closeBlock:C(v),closePrice:N?parseFloat(N):0,totalBets:C(k),totalAmount:A?parseFloat(A):0,bullBets:C(w),bullAmount:y?parseFloat(y):0,bearBets:C(g),bearAmount:O?parseFloat(O):0,bets:I.map(E)}},q=function(t,n){var e=t.round;if(e.failed)return r.CANCELED;if(e.epoch>=n-1)return r.LIVE;if(t.round.position===i.Tu.HOUSE)return r.HOUSE;var o=e.closePrice>e.lockPrice?i.Tu.BULL:i.Tu.BEAR;return t.position===o?r.WIN:r.LOSE},x=function(t,n){switch(n){case i.dZ.COLLECTED:return t.filter((function(t){return!0===t.claimed}));case i.dZ.UNCOLLECTED:return t.filter((function(t){return!t.claimed&&(t.position===t.round.position||!0===t.round.failed)}));case i.dZ.ALL:default:return t}},L=function(){var t=h(a().mark((function t(){var n,e,r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,u.request)(l.v5,(0,u.gql)(w()));case 2:return n=t.sent.market,e=n.totalBNB?parseFloat(n.totalBNB):0,r=n.totalBNBTreasury?parseFloat(n.totalBNBTreasury):0,t.abrupt("return",Math.max(e-r,0));case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),P=function(){var t=h(a().mark((function t(){var n,e,r,o,l,c=arguments;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=c.length>0&&void 0!==c[0]?c[0]:{},e=c.length>1&&void 0!==c[1]?c[1]:1e3,r=c.length>2&&void 0!==c[2]?c[2]:0,o=c.length>3?c[3]:void 0,t.next=3,(0,u.request)(o,(0,u.gql)(y(),"\n id\n hash  \n amount\n position\n claimed\n claimedAt\n claimedHash\n claimedBlock\n claimedBNB\n claimedNetBNB\n createdAt\n updatedAt\n","\n  id\n  epoch\n  position\n  failed\n  startAt\n  startBlock\n  startHash\n  lockAt\n  lockBlock\n  lockHash\n  lockPrice\n  lockRoundId\n  closeAt\n  closeBlock\n  closeHash\n  closePrice\n  closeRoundId\n  totalBets\n  totalAmount\n  bullBets\n  bullAmount\n  bearBets\n  bearAmount\n","\n  id\n  createdAt\n  updatedAt\n  block\n  totalBets\n  totalBetsBull\n  totalBetsBear\n  totalBNB\n  totalBNBBull\n  totalBNBBear\n  totalBetsClaimed\n  totalBNBClaimed\n  winRate\n  averageBNB\n  netBNB\n"),{first:e,skip:r,where:n});case 3:return l=t.sent,t.abrupt("return",l.bets);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),$=(function(){var t=h(a().mark((function t(n){var e;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,u.request)(l.v5,(0,u.gql)(g(),"\n id\n hash  \n amount\n position\n claimed\n claimedAt\n claimedHash\n claimedBlock\n claimedBNB\n claimedNetBNB\n createdAt\n updatedAt\n","\n  id\n  epoch\n  position\n  failed\n  startAt\n  startBlock\n  startHash\n  lockAt\n  lockBlock\n  lockHash\n  lockPrice\n  lockRoundId\n  closeAt\n  closeBlock\n  closeHash\n  closePrice\n  closeRoundId\n  totalBets\n  totalAmount\n  bullBets\n  bullAmount\n  bearBets\n  bearAmount\n","\n  id\n  createdAt\n  updatedAt\n  block\n  totalBets\n  totalBetsBull\n  totalBetsBear\n  totalBNB\n  totalBNBBull\n  totalBNBBear\n  totalBetsClaimed\n  totalBNBClaimed\n  winRate\n  averageBNB\n  netBNB\n"),{id:n.toLowerCase()});case 2:return e=t.sent,t.abrupt("return",e.bet);case 4:case"end":return t.stop()}}),t)})))}(),function(){var t=h(a().mark((function t(n,e,r){var o,u;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=e.map((function(t){return{address:r,name:"ledger",params:[t,n]}})),t.next=3,(0,s.v)(B,o);case 3:return u=t.sent,t.abrupt("return",u);case 5:case"end":return t.stop()}}),t)})));return function(n,e,r){return t.apply(this,arguments)}}()),H=20,D={skip:0,first:H,orderBy:"createdAt",orderDir:"desc"},R=function(t,n,e){if(!t){var r=1e3*(n+e);if(Number.isFinite(r))return Date.now()>r}return!1},F=function(){var t=h(a().mark((function t(){var n,e,r,o,l,c,i,s,d,B=arguments;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=B.length>0&&void 0!==B[0]?B[0]:{},e=B.length>1?B[1]:void 0,r=b({},D,n),o=r.first,l=r.skip,c=r.where,i=r.orderBy,s=r.orderDir,t.next=4,(0,u.request)(e,(0,u.gql)(O(),"\n  id\n  createdAt\n  updatedAt\n  block\n  totalBets\n  totalBetsBull\n  totalBetsBear\n  totalBNB\n  totalBNBBull\n  totalBNBBear\n  totalBetsClaimed\n  totalBNBClaimed\n  winRate\n  averageBNB\n  netBNB\n"),{first:o,skip:l,where:c,orderBy:i,orderDir:s});case 4:return d=t.sent,t.abrupt("return",d.users);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),U=function(){var t=h(a().mark((function t(n,e){var r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,u.request)(e,(0,u.gql)(S(),"\n  id\n  createdAt\n  updatedAt\n  block\n  totalBets\n  totalBetsBull\n  totalBetsBear\n  totalBNB\n  totalBNBBull\n  totalBNBBear\n  totalBetsClaimed\n  totalBNBClaimed\n  winRate\n  averageBNB\n  netBNB\n"),{id:n.toLowerCase()});case 2:return r=t.sent,t.abrupt("return",r.user);case 4:case"end":return t.stop()}}),t)})));return function(n,e){return t.apply(this,arguments)}}(),J=function(){var t=h(a().mark((function t(n,e,r){var o,u;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=e.map((function(t){return{address:r,name:"claimable",params:[t,n]}})),t.next=3,(0,s.v)(B,o);case 3:return u=t.sent,t.abrupt("return",u.reduce((function(t,n,r){return b({},t,N({},e[r],k(n,1)[0]))}),{}));case 5:case"end":return t.stop()}}),t)})));return function(n,e,r){return t.apply(this,arguments)}}(),j=function(){var t=h(a().mark((function t(n){var e,r,o,u,l,c,d,f,p,m;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=["currentEpoch","intervalSeconds","minBetAmount","paused"].map((function(t){return{address:n,name:t}})),t.t0=k,t.next=4,(0,s.v)(B,e);case 4:return t.t1=t.sent,r=(0,t.t0)(t.t1,4),o=k(r[0],1),u=o[0],l=k(r[1],1),c=l[0],d=k(r[2],1),f=d[0],p=k(r[3],1),m=p[0],t.abrupt("return",{status:m?i.Gw.PAUSED:i.Gw.LIVE,currentEpoch:u.toNumber(),intervalSeconds:c.toNumber(),minBetAmount:f.toString()});case 15:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),_=function(){var t=h(a().mark((function t(n,e){var r,o;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.map((function(t){return{address:e,name:"rounds",params:[t]}})),t.next=3,(0,s.v)(B,r);case 3:return o=t.sent,t.abrupt("return",o);case 5:case"end":return t.stop()}}),t)})));return function(n,e){return t.apply(this,arguments)}}(),Y=function(t,n){return{epoch:t,startTimestamp:n,lockTimestamp:null,closeTimestamp:null,lockPrice:null,closePrice:null,totalAmount:f._Y.toJSON(),bullAmount:f._Y.toJSON(),bearAmount:f._Y.toJSON(),rewardBaseCalAmount:f._Y.toJSON(),rewardAmount:f._Y.toJSON(),oracleCalled:!1,lockOracleId:null,closeOracleId:null}},z=function(t){return t.reduce((function(t,n){return b({},t,N({},n.epoch.toString(),n))}),{})},W=function(t){return{position:0===t.position?i.Tu.BULL:i.Tu.BEAR,amount:t.amount.toJSON(),claimed:t.claimed}},G=function(t,n,e){return n.reduce((function(n,r,o){if(!r)return n;if(r.amount.eq(0))return n;var a=e[o].toString();return b({},n,N({},t,b({},n[t],N({},a,W(r)))))}),{})},M=function(t){var n=t.epoch,e=t.startTimestamp,r=t.lockTimestamp,o=t.closeTimestamp,a=t.lockPrice,u=t.closePrice,l=t.totalAmount,c=t.bullAmount,i=t.bearAmount,s=t.rewardBaseCalAmount,d=t.rewardAmount,B=t.oracleCalled,f=t.lockOracleId,p=t.closeOracleId;return{oracleCalled:B,epoch:n.toNumber(),startTimestamp:e.eq(0)?null:e.toNumber(),lockTimestamp:r.eq(0)?null:r.toNumber(),closeTimestamp:o.eq(0)?null:o.toNumber(),lockPrice:a.eq(0)?null:a.toJSON(),closePrice:u.eq(0)?null:u.toJSON(),totalAmount:l.toJSON(),bullAmount:c.toJSON(),bearAmount:i.toJSON(),rewardBaseCalAmount:s.toJSON(),rewardAmount:d.toJSON(),lockOracleId:f.toString(),closeOracleId:p.toString()}},V=function(t){return Object.keys(t).reduce((function(n,e){var r=t[e];return r&&"BigNumber"===(null===r||void 0===r?void 0:r.type)?b({},n,N({},e,c.O$.from(r))):b({},n,N({},e,r))}),{})},Z=function(){var t=h(a().mark((function t(n,e){var r,o;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=(0,d.qi)(e),t.next=4,r.getUserRoundsLength(n);case 4:return o=t.sent,t.abrupt("return",o);case 8:return t.prev=8,t.t0=t.catch(0),t.abrupt("return",f._Y);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(n,e){return t.apply(this,arguments)}}(),Q=function(){var t=h(a().mark((function t(n){var e,r,o,u,l,c,i,s=arguments;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=s.length>1&&void 0!==s[1]?s[1]:0,r=s.length>2&&void 0!==s[2]?s[2]:p.yg,o=s.length>3?s[3]:void 0,u=(0,d.qi)(o),t.prev=2,t.t0=k,t.next=6,u.getUserRounds(n,e,r);case 6:return t.t1=t.sent,l=(0,t.t0)(t.t1,2),c=l[0],i=l[1],t.abrupt("return",c.reduce((function(t,n,e){return b({},t,N({},n.toString(),W(i[e])))}),{}));case 13:return t.prev=13,t.t2=t.catch(2),t.abrupt("return",null);case 16:case"end":return t.stop()}}),t,null,[[2,13]])})));return function(n){return t.apply(this,arguments)}}()}}]);
//# sourceMappingURL=995-57f88bb0f7ee320c.js.map